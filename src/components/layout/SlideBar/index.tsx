import React, {FunctionComponent, useState, useEffect} from "react";import {RouteComponentProps, withRouter} from "react-router-dom";import {connect} from "react-redux";import List from "@material-ui/core/List";import ListItem from "@material-ui/core/ListItem";import ListItemIcon from "@material-ui/core/ListItemIcon";import {makeStyles, Theme, createStyles} from "@material-ui/core/styles";import './index.scss';import { queryTypes} from "../../../services/menuService";import {Extension, Favorite, GTranslate,  Settings, Star} from "@material-ui/icons";import {Avatar, Box} from "@material-ui/core";interface State {    menu?: {        list?: object    }}interface OwnProps extends RouteComponentProps {    list: []}type Props = OwnProps;const logo = require('../../../assets/logo.png');const avatar = require('../../../assets/avatar.png');const mapStateToProps = (state: State) => {    return {        //首页菜单与home等跳转        list: state.menu?.list || []    };};const useStyles = makeStyles((theme: Theme) =>    createStyles({        nested: {            paddingLeft: theme.spacing(1),            color: 'ghostwhite'        },        small: {            width: theme.spacing(3),            height: theme.spacing(3),        },        muiListIcon: {            minWidth: '32px',            maxWidth: '32px',            marginTop: '8px',            marginBottom: '8px',            marginLeft: '18px'        }    }));const SlideBar: FunctionComponent<Props> = (props) => {    const classes = useStyles();    const [type, setType] = useState([]);    //获取组件类别    useEffect(() => {        getType().then((values: any) => {            setType(values);        });    }, []);    //异步获取组件类别    const getType = async () => {        const {data, err} = await queryTypes();        if (err) return;        return data;    };    //左侧菜单点击事件    const itemClick = (item: any) => () => {        console.log(item);        //跳转到type页面        props.history.push(`/type?key=${item.key}`);    };    const gotoHome = () => {        props.history.push("/")    };    return (        <List className="slide" style={{padding: '0'}}>            <List>                <ListItem>                    <Box className="logoContainer">                        <Box className="c1">                            <img src={logo} alt="logo"/>                        </Box>                        <Box className="c2">                            <span>Snack</span>                        </Box>                    </Box>                </ListItem>            </List>            {type.map((value: any, index) => (                <List component="div" disablePadding key={index}>                    <ListItem button className={classes.nested} key={value}                              onClick={itemClick(value)}>                        <ListItemIcon className={classes.muiListIcon}>                            <Extension className="iconJigsaw"/>                        </ListItemIcon>                    </ListItem>                </List>            ))}            <ListItem button className={classes.nested}>                <ListItemIcon className={classes.muiListIcon}>                    <Favorite className="iconFavorite"/>                </ListItemIcon>            </ListItem>            <ListItem button className={classes.nested}>                <ListItemIcon className={classes.muiListIcon}>                    <Star className="iconStar"/>                </ListItemIcon>            </ListItem>            <Box className="bottomButtons">                <List>                    <ListItem button className={classes.nested}>                        <ListItemIcon className={classes.muiListIcon}>                            <GTranslate className="iconFavorite"/>                        </ListItemIcon>                    </ListItem>                    <ListItem button className={classes.nested}>                        <ListItemIcon className={classes.muiListIcon}>                            <Settings className="iconFavorite"/>                        </ListItemIcon>                    </ListItem>                    <ListItem button className={classes.nested}>                        <ListItemIcon className={classes.muiListIcon}>                            <Avatar className={classes.small} src={avatar}/>                        </ListItemIcon>                    </ListItem>                </List>            </Box>        </List>    );};export default withRouter(connect(mapStateToProps, null)(SlideBar));